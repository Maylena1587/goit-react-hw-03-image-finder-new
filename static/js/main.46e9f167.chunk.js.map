{"version":3,"sources":["Components/Modal/Modal.module.css","Components/ImageGalleryItem/ImageGalleryItem.module.css","Components/Container/Container.module.css","Components/Button/Button.module.css","Components/ImageGalleryView/ImageGalleryView.module.css","Components/ImageGallery/ImageGallery.module.css","Components/Container/Container.js","Components/Searchbar/Searchbar.js","Components/Button/Button.js","services/pixabay-api.js","images/initialScreenPlaceholder.jpg","images/errorPlaceholder.jpg","Components/Modal/Modal.js","Components/ImageGalleryItem/ImageGalleryItem.js","Components/ImageGallery/ImageGallery.js","Components/ImageGalleryView/ImageGalleryView.js","Components/App/App.js","reportWebVitals.js","index.js","Components/Searchbar/Searchbar.module.css"],"names":["module","exports","Container","children","className","styles","container","Searchbar","props","state","value","handleInput","e","setState","target","handleSubmit","preventDefault","query","toLowerCase","trim","toast","error","btn","current","blur","getSearchQuery","React","createRef","s","searchbar","form","onSubmit","this","type","ref","Provider","size","input","placeholder","onChange","Component","Button","updateSearchPage","onClick","KEY","BASE_URL","searchQuery","page","a","url","getData","then","response","fetch","images","json","api","fetchImages","modalRoot","document","querySelector","Modal","handleModalClosureOnEsc","code","toggleModal","handleBackdropClick","currentTarget","handleBtnClick","window","addEventListener","removeEventListener","createPortal","backdrop","content","closeIcon","ImageGalleryItem","image","showBigImageInModal","item","src","webformatURL","previewURL","loading","style","opacity","alt","tags","data-image","largeImageURL","ImageGallery","gallery","map","id","Status","ImageGalleryView","totalSearchResults","status","modalIsOpen","imageInModal","activeImage","updateImageAvialability","result","length","renderNewSearchQuery","nextQuery","nextPage","resetSearchPage","imageAPI","console","log","totalHits","hits","catch","finally","data","renderMorePages","prevState","scrollTo","top","documentElement","scrollHeight","behavior","dataset","prevProps","prevQuery","prevPage","initialScreenPlaceholder","css","color","errorPlaceholder","App","searchPage","moreImagesAvailable","autoClose","reportWebVitals","onPerfEntry","Function","getCLS","getFID","getFCP","getLCP","getTTFB","ReactDOM","render","StrictMode","getElementById"],"mappings":"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","file":"static/js/main.46e9f167.chunk.js","sourcesContent":["// extracted by mini-css-extract-plugin\nmodule.exports = {\"backdrop\":\"Modal_backdrop__2C1Vf\",\"content\":\"Modal_content__30AxT\",\"closeIcon\":\"Modal_closeIcon__1ee5S\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"item\":\"ImageGalleryItem_item__3ovJO\",\"image\":\"ImageGalleryItem_image__1jvAw\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"container\":\"Container_container__2dyD4\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"btn\":\"Button_btn__1m_NA\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"image\":\"ImageGalleryView_image__2UMl6\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"gallery\":\"ImageGallery_gallery__15T5Q\"};","import styles from './Container.module.css';\n\nexport default function Container({ children }) {\n  return <div className={styles.container}>{children}</div>;\n}\n","import React, { Component } from 'react';\nimport { FiSearch } from 'react-icons/fi';\nimport { IconContext } from 'react-icons';\nimport { toast } from 'react-toastify';\nimport PropTypes from 'prop-types';\n\nimport s from './Searchbar.module.css';\n\nclass Searchbar extends Component {\n  constructor(props) {\n    super(props);\n    this.btn = React.createRef();\n  }\n\n  state = {\n    value: '',\n  };\n\n  handleInput = e => {\n    this.setState({ value: e.target.value });\n  };\n\n  handleSubmit = e => {\n    e.preventDefault();\n    const query = this.state.value.toLowerCase().trim();\n    if (query === '') {\n      toast.error('Please enter a query');\n      this.btn.current.blur();\n      return;\n    }\n    this.props.getSearchQuery(query);\n    this.setState({ value: '' });\n    this.btn.current.blur();\n  };\n\n  render() {\n    return (\n      <header className={s.searchbar}>\n        <form className={s.form} onSubmit={this.handleSubmit}>\n          <button type=\"submit\" className={s.btn} ref={this.btn}>\n            <IconContext.Provider value={{ size: '16px' }}>\n              <FiSearch />\n            </IconContext.Provider>\n          </button>\n\n          <input\n            className={s.input}\n            type=\"text\"\n            value={this.state.value}\n            placeholder=\"Search images and photos\"\n            onChange={this.handleInput}\n          />\n        </form>\n      </header>\n    );\n  }\n}\n\nexport default Searchbar;\n\nSearchbar.propTypes = {\n  getSearchQuery: PropTypes.func.isRequired,\n};\n","import React from 'react';\nimport PropTypes from 'prop-types';\nimport s from './Button.module.css';\n\nfunction Button({ updateSearchPage }) {\n  return (\n    <button className={s.btn} onClick={updateSearchPage}>\n      Load more\n    </button>\n  );\n}\n\nexport default Button;\n\nButton.propTypes = {\n  updateSearchPage: PropTypes.func.isRequired,\n};\n","const KEY = '18962627-3cde470dd8252503102b1f7f8';\nconst BASE_URL = `https://pixabay.com/api/`;\n\nasync function fetchImages(searchQuery, page) {\n  const url = `${BASE_URL}?image_type=photo&orientation=horizontal&q=${searchQuery}&page=${page}&per_page=12&key=${KEY}`;\n\n  return getData(url).then(response => {\n    return response;\n  });\n}\n\nasync function getData(url) {\n  const images = await fetch(url);\n  const response = await images.json();\n  return response;\n}\n\nconst api = {\n  fetchImages,\n};\n\nexport default api;\n","export default __webpack_public_path__ + \"static/media/initialScreenPlaceholder.6b48318a.jpg\";","export default __webpack_public_path__ + \"static/media/errorPlaceholder.8bd4b3d9.jpg\";","import React, { Component } from 'react';\nimport { createPortal } from 'react-dom';\nimport { FaWindowClose } from 'react-icons/fa';\nimport { IconContext } from 'react-icons';\nimport PropTypes from 'prop-types';\nimport s from './Modal.module.css';\n\nconst modalRoot = document.querySelector('#modal-root');\n\nclass Modal extends Component {\n  componentDidMount() {\n    window.addEventListener('keydown', this.handleModalClosureOnEsc);\n  }\n\n  componentWillUnmount() {\n    window.removeEventListener('keydown', this.handleModalClosureOnEsc);\n  }\n\n  handleModalClosureOnEsc = e => {\n    if (e.code === 'Escape') {\n      this.props.toggleModal();\n    }\n  };\n\n  handleBackdropClick = e => {\n    if (e.target === e.currentTarget) {\n      this.props.toggleModal();\n    }\n  };\n\n  handleBtnClick = () => {\n    this.props.toggleModal();\n  };\n\n  render() {\n    return createPortal(\n      <div className={s.backdrop} onClick={this.handleBackdropClick}>\n        <div className={s.content}>\n          <button className={s.closeIcon} onClick={this.handleBtnClick}>\n            <IconContext.Provider value={{ size: '36px' }}>\n              <FaWindowClose />\n            </IconContext.Provider>\n          </button>\n          {this.props.children}\n        </div>\n      </div>,\n      modalRoot,\n    );\n  }\n}\n\nexport default Modal;\n\nModal.propTypes = {\n  toggleModal: PropTypes.func.isRequired,\n};\n","import React from 'react';\nimport ProgressiveImage from 'react-progressive-image';\nimport PropTypes from 'prop-types';\nimport s from './ImageGalleryItem.module.css';\n\nfunction ImageGalleryItem({ image, showBigImageInModal }) {\n  return (\n    <li className={s.item}>\n      <ProgressiveImage src={image.webformatURL} placeholder={image.previewURL}>\n        {(src, loading) => (\n          <img\n            style={{ opacity: loading ? 0.5 : 1 }}\n            src={src}\n            alt={image.tags}\n            data-image={image.largeImageURL}\n            className={s.image}\n            onClick={showBigImageInModal}\n          />\n        )}\n      </ProgressiveImage>\n    </li>\n  );\n}\n\nexport default ImageGalleryItem;\n\nImageGalleryItem.propTypes = {\n  showBigImageInModal: PropTypes.func.isRequired,\n  image: PropTypes.object.isRequired,\n};\n","import React from 'react';\nimport PropTypes from 'prop-types';\nimport s from './ImageGallery.module.css';\nimport ImageGalleryItem from '../ImageGalleryItem';\n\nfunction ImageGallery({ images, showBigImageInModal }) {\n  return (\n    <ul className={s.gallery}>\n      {images &&\n        images.map(image => {\n          return (\n            <ImageGalleryItem\n              image={image}\n              showBigImageInModal={showBigImageInModal}\n              key={image.id}\n            />\n          );\n        })}\n    </ul>\n  );\n}\n\nexport default ImageGallery;\n\nImageGallery.propTypes = {\n  showBigImageInModal: PropTypes.func.isRequired,\n  images: PropTypes.arrayOf(PropTypes.object).isRequired,\n};\n","import React, { Component } from 'react';\nimport { toast } from 'react-toastify';\nimport { css } from '@emotion/core';\nimport PulseLoader from 'react-spinners/PulseLoader';\nimport ProgressiveImage from 'react-progressive-image';\nimport PropTypes from 'prop-types';\nimport s from './ImageGalleryView.module.css';\nimport imageAPI from '../../services/pixabay-api';\nimport initialScreenPlaceholder from '../../images/initialScreenPlaceholder.jpg';\nimport errorPlaceholder from '../../images/errorPlaceholder.jpg';\nimport Modal from '../Modal';\nimport ImageGallery from '../ImageGallery';\n\nconst Status = {\n  IDLE: 'idle',\n  PENDING: 'pending',\n  RESOLVED: 'resolved',\n  REJECTED: 'rejected',\n};\n\nclass ImageGalleryView extends Component {\n  state = {\n    images: null,\n    totalSearchResults: null,\n    error: null,\n    status: Status.IDLE,\n    modalIsOpen: false,\n    imageInModal: '',\n    activeImage: '',\n  };\n\n  componentDidUpdate(prevProps) {\n    const prevQuery = prevProps.searchQuery;\n    const nextQuery = this.props.searchQuery;\n    const prevPage = prevProps.page;\n    const nextPage = this.props.page;\n\n    if (prevQuery !== nextQuery) {\n      this.renderNewSearchQuery(nextQuery, nextPage);\n    }\n\n    if (prevPage !== nextPage && prevPage < nextPage) {\n      this.renderMorePages(nextQuery, nextPage);\n    }\n  }\n\n  updateImageAvialability = () => {\n    if (this.state.images) {\n      const result =\n        this.state.totalSearchResults > this.state.images.length ? true : false;\n      this.props.updateImageAvialability(result);\n    } else {\n      this.props.updateImageAvialability(false);\n    }\n  };\n\n  renderNewSearchQuery = (nextQuery, nextPage) => {\n    this.props.resetSearchPage();\n    this.setState({ images: null, status: Status.PENDING });\n    this.props.updateImageAvialability(false);\n\n    imageAPI\n      .fetchImages(nextQuery, nextPage)\n      .then(images => {\n        console.log(images);\n        if (images.totalHits === 0) {\n          toast.error(`No images for ${nextQuery}. Please try another query.`);\n          this.setState({\n            status: Status.REJECTED,\n          });\n\n          return;\n        }\n        if (images.hits.length === 0) {\n          toast.error(\n            `Oops! Pixabay failed us and forgot to send images. Please refresh page & try again.`,\n          );\n          this.setState({\n            status: Status.REJECTED,\n          });\n\n          return;\n        }\n        this.setState({\n          images: images.hits,\n          totalSearchResults: images.totalHits,\n          status: Status.RESOLVED,\n        });\n      })\n      .catch(error => this.setState({ error, status: Status.REJECTED }))\n      .finally(data => {\n        this.updateImageAvialability();\n      });\n  };\n\n  renderMorePages = (nextQuery, nextPage) => {\n    this.props.updateImageAvialability(false);\n\n    imageAPI\n      .fetchImages(nextQuery, nextPage)\n      .then(images => {\n        this.setState(prevState => ({\n          images: [...prevState.images, ...images.hits],\n        }));\n      })\n      .catch(error => this.setState({ error, status: Status.REJECTED }))\n      .finally(data => {\n        window.scrollTo({\n          top: document.documentElement.scrollHeight - 1300,\n          behavior: 'smooth',\n        });\n        this.updateImageAvialability();\n      });\n  };\n\n  toggleModal = () => {\n    this.setState(prevState => ({\n      modalIsOpen: !prevState.modalIsOpen,\n      imageInModal: '',\n      activeImage: '',\n    }));\n  };\n\n  showBigImageInModal = e => {\n    this.toggleModal();\n    this.setState(prevState => ({\n      imageInModal: prevState.imageInModal ? '' : e.target.dataset.image,\n      activeImage: prevState.activeImage ? '' : e.target.src,\n    }));\n  };\n\n  render() {\n    const {\n      status,\n      modalIsOpen,\n      imageInModal,\n      activeImage,\n      images,\n    } = this.state;\n\n    if (status === Status.IDLE) {\n      return (\n        <div>\n          <img src={initialScreenPlaceholder} alt=\"please enter a query\" />\n        </div>\n      );\n    }\n\n    if (status === Status.PENDING) {\n      return (\n        <PulseLoader\n          css={css`\n            margin: 4px;\n          `}\n          size={25}\n          color={'blue'}\n          loading={true}\n        />\n      );\n    }\n\n    if (status === Status.REJECTED) {\n      return (\n        <div>\n          <img src={errorPlaceholder} alt=\"error\" />\n        </div>\n      );\n    }\n\n    if (status === Status.RESOLVED) {\n      return (\n        <>\n          <ImageGallery\n            images={images}\n            showBigImageInModal={this.showBigImageInModal}\n          />\n          {modalIsOpen && (\n            <Modal toggleModal={this.toggleModal}>\n              <ProgressiveImage src={imageInModal} placeholder={activeImage}>\n                {(src, loading) => (\n                  <img\n                    style={{ opacity: loading ? 0.5 : 1 }}\n                    src={src}\n                    alt=\"\"\n                    className={s.image}\n                  />\n                )}\n              </ProgressiveImage>\n            </Modal>\n          )}\n        </>\n      );\n    }\n  }\n}\n\nexport default ImageGalleryView;\n\nImageGalleryView.propTypes = {\n  searchQuery: PropTypes.string.isRequired,\n  page: PropTypes.number.isRequired,\n  resetSearchPage: PropTypes.func.isRequired,\n  updateImageAvialability: PropTypes.func.isRequired,\n};\n","import React, { Component } from 'react';\nimport { ToastContainer } from 'react-toastify';\nimport 'react-toastify/dist/ReactToastify.css';\nimport Container from '../Container';\nimport Searchbar from '../Searchbar';\nimport Button from '../Button';\nimport ImageGalleryView from '../ImageGalleryView';\n\nclass App extends Component {\n  state = {\n    searchQuery: '',\n    searchPage: 1,\n    moreImagesAvailable: false,\n  };\n\n  getSearchQuery = query => {\n    this.setState({ searchQuery: query });\n  };\n\n  updateSearchPage = () => {\n    this.setState(prevState => ({ searchPage: prevState.searchPage + 1 }));\n  };\n\n  resetSearchPage = () => {\n    this.setState({ searchPage: 1 });\n  };\n\n  updateImageAvialability = status => {\n    this.setState({ moreImagesAvailable: status });\n  };\n\n  render() {\n    const { searchQuery, searchPage, moreImagesAvailable } = this.state;\n\n    return (\n      <Container>\n        <Searchbar getSearchQuery={this.getSearchQuery} />\n        <ImageGalleryView\n          searchQuery={searchQuery}\n          page={searchPage}\n          resetSearchPage={this.resetSearchPage}\n          updateImageAvialability={this.updateImageAvialability}\n        />\n        {moreImagesAvailable && (\n          <Button updateSearchPage={this.updateSearchPage} />\n        )}\n        <ToastContainer autoClose={3000} />\n      </Container>\n    );\n  }\n}\n\nexport default App;\n","const reportWebVitals = onPerfEntry => {\n  if (onPerfEntry && onPerfEntry instanceof Function) {\n    import('web-vitals').then(({ getCLS, getFID, getFCP, getLCP, getTTFB }) => {\n      getCLS(onPerfEntry);\n      getFID(onPerfEntry);\n      getFCP(onPerfEntry);\n      getLCP(onPerfEntry);\n      getTTFB(onPerfEntry);\n    });\n  }\n};\n\nexport default reportWebVitals;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './Components/App/App';\nimport reportWebVitals from './reportWebVitals';\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById('root'),\n);\n\n// If you want to start measuring performance in your app, pass a function\n// to log results (for example: reportWebVitals(console.log))\n// or send to an analytics endpoint. Learn more: https://bit.ly/CRA-vitals\nreportWebVitals();\n","// extracted by mini-css-extract-plugin\nmodule.exports = {\"searchbar\":\"Searchbar_searchbar__3doYC\",\"form\":\"Searchbar_form__3fV2I\",\"input\":\"Searchbar_input__1cIDh\",\"btn\":\"Searchbar_btn__3uJJx\",\"react-icons\":\"Searchbar_react-icons__2aquS\"};"],"sourceRoot":""}